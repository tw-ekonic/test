{"remainingRequest":"/home/tom/WebstormProjects/uni/buju-app/node_modules/babel-loader/lib/index.js!/home/tom/WebstormProjects/uni/buju-app/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/tom/WebstormProjects/uni/buju-app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/tom/WebstormProjects/uni/buju-app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/tom/WebstormProjects/uni/buju-app/src/App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"/home/tom/WebstormProjects/uni/buju-app/src/App.vue","mtime":1642682371892},{"path":"/home/tom/WebstormProjects/uni/buju-app/babel.config.js","mtime":1641218875486},{"path":"/home/tom/WebstormProjects/uni/buju-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tom/WebstormProjects/uni/buju-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tom/WebstormProjects/uni/buju-app/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/tom/WebstormProjects/uni/buju-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tom/WebstormProjects/uni/buju-app/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJ3LTEwLzEyIG0tYXV0byBteS0yMCIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBmbGV4LXJvdyBmbGV4LXdyYXAiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfU3R1ZGVudHNUYWJsZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJTdHVkZW50c1RhYmxlIik7CgogIHZhciBfY29tcG9uZW50X1N0YXRpb25zVGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiU3RhdGlvbnNUYWJsZSIpOwoKICB2YXIgX2NvbXBvbmVudF9SZXN1bHRzVGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiUmVzdWx0c1RhYmxlIik7CgogIHZhciBfY29tcG9uZW50X01vZGFsID0gX3Jlc29sdmVDb21wb25lbnQoIk1vZGFsIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU3R1ZGVudHNUYWJsZSwgewogICAgY2xhc3M6ICJ3LTUvMTIiLAogICAgIm9uLWlucHV0LWNoYW5nZSI6ICRvcHRpb25zLm9uSW5wdXRDaGFuZ2UsCiAgICAiZGVsZXRlLXN0dWRlbnQiOiAkb3B0aW9ucy5kZWxldGVTdHVkZW50LAogICAgc3R1ZGVudHM6ICRkYXRhLnN0dWRlbnRzLAogICAgIm9uLXN1Ym1pdCI6ICRvcHRpb25zLm9uU3VibWl0LAogICAgc3R1ZGVudE5hbWU6ICRkYXRhLnN0dWRlbnROYW1lLAogICAgInRvZ2dsZS1tb2RhbCI6ICRvcHRpb25zLm9wZW5Nb2RhbCwKICAgICJvbi1zZWFyY2giOiAkb3B0aW9ucy5vblNlYXJjaAogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJvbi1pbnB1dC1jaGFuZ2UiLCAiZGVsZXRlLXN0dWRlbnQiLCAic3R1ZGVudHMiLCAib24tc3VibWl0IiwgInN0dWRlbnROYW1lIiwgInRvZ2dsZS1tb2RhbCIsICJvbi1zZWFyY2giXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X1N0YXRpb25zVGFibGUsIHsKICAgIGNsYXNzOiAidy01LzEyIiwKICAgICJvbi1pbnB1dC1jaGFuZ2UiOiAkb3B0aW9ucy5vbklucHV0Q2hhbmdlLAogICAgImRlbGV0ZS1zdGF0aW9uIjogJG9wdGlvbnMuZGVsZXRlU3RhdGlvbiwKICAgIHN0YXRpb25zOiAkZGF0YS5zdGF0aW9ucywKICAgICJvbi1zdWJtaXQiOiAkb3B0aW9ucy5vblN1Ym1pdCwKICAgIHN0YXRpb25OYW1lOiAkZGF0YS5zdGF0aW9uTmFtZSwKICAgICJ0b2dnbGUtbW9kYWwiOiAkb3B0aW9ucy5vcGVuTW9kYWwsCiAgICAib24tc2VhcmNoIjogJG9wdGlvbnMub25TZWFyY2gsCiAgICAic2VsZWN0ZWQtc3RhdGlvbi12YWx1ZSI6ICRkYXRhLnNlbGVjdGVkU3RhdGlvblZhbHVlLAogICAgInNlbGVjdC1zdGF0aW9uLXZhbHVlIjogJG9wdGlvbnMuc2VsZWN0U3RhdGlvblZhbHVlCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uLWlucHV0LWNoYW5nZSIsICJkZWxldGUtc3RhdGlvbiIsICJzdGF0aW9ucyIsICJvbi1zdWJtaXQiLCAic3RhdGlvbk5hbWUiLCAidG9nZ2xlLW1vZGFsIiwgIm9uLXNlYXJjaCIsICJzZWxlY3RlZC1zdGF0aW9uLXZhbHVlIiwgInNlbGVjdC1zdGF0aW9uLXZhbHVlIl0pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X1Jlc3VsdHNUYWJsZSwgewogICAgc3RhdGlvbnM6ICRkYXRhLnN0YXRpb25zLAogICAgc3R1ZGVudHM6ICRkYXRhLnN0dWRlbnRzLAogICAgcmVzdWx0czogJGRhdGEucmVzdWx0cywKICAgIHJlc3VsdE5hbWU6ICRkYXRhLnJlc3VsdE5hbWUsCiAgICAib24tcmVzdWx0LXN1Ym1pdCI6ICRvcHRpb25zLm9uUmVzdWx0U3VibWl0LAogICAgIm9uLWlucHV0LWNoYW5nZSI6ICRvcHRpb25zLm9uSW5wdXRDaGFuZ2UsCiAgICAiZGVsZXRlLXJlc3VsdCI6ICRvcHRpb25zLmRlbGV0ZVJlc3VsdAogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJzdGF0aW9ucyIsICJzdHVkZW50cyIsICJyZXN1bHRzIiwgInJlc3VsdE5hbWUiLCAib24tcmVzdWx0LXN1Ym1pdCIsICJvbi1pbnB1dC1jaGFuZ2UiLCAiZGVsZXRlLXJlc3VsdCJdKSwgJGRhdGEuc2hvd01vZGFsID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfTW9kYWwsIHsKICAgIGtleTogMCwKICAgICJjbG9zZS1tb2RhbCI6ICRvcHRpb25zLmNsb3NlTW9kYWwsCiAgICAibW9kYWwtb2JqZWN0IjogJGRhdGEubW9kYWxEYXRhLAogICAgc2F2ZTogJG9wdGlvbnMucGF0Y2hWYWx1ZQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJjbG9zZS1tb2RhbCIsICJtb2RhbC1vYmplY3QiLCAic2F2ZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKTsKfQ=="},{"version":3,"sources":["/home/tom/WebstormProjects/uni/buju-app/src/App.vue"],"names":[],"mappings":";;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;;;;;;;;;uBADb,mBAAA,CAsCM,KAtCN,EAAA,UAAA,EAsCM,CArCJ,mBAAA,CAqBM,KArBN,EAAA,UAAA,EAqBM,CApBJ,YAAA,CAQE,wBARF,EAQE;AARa,IAAA,KAAK,EAAC,QAQnB;AAPoB,uBAAiB,QAAA,CAAA,aAOrC;AANoB,sBAAgB,QAAA,CAAA,aAMpC;AALoB,IAAA,QAAQ,EAAE,KAAA,CAAA,QAK9B;AAJoB,iBAAW,QAAA,CAAA,QAI/B;AAHoB,IAAA,WAAW,EAAE,KAAA,CAAA,WAGjC;AAFoB,oBAAc,QAAA,CAAA,SAElC;AADoB,iBAAW,QAAA,CAAA;AAC/B,GARF,E,IAAA,E;;AAAA,I,0GAAA,CAoBI,EAXJ,YAAA,CAUE,wBAVF,EAUE;AAVa,IAAA,KAAK,EAAC,QAUnB;AAToB,uBAAiB,QAAA,CAAA,aASrC;AARoB,sBAAgB,QAAA,CAAA,aAQpC;AAPoB,IAAA,QAAQ,EAAE,KAAA,CAAA,QAO9B;AANoB,iBAAW,QAAA,CAAA,QAM/B;AALoB,IAAA,WAAW,EAAE,KAAA,CAAA,WAKjC;AAJoB,oBAAc,QAAA,CAAA,SAIlC;AAHoB,iBAAW,QAAA,CAAA,QAG/B;AAFoB,8BAAwB,KAAA,CAAA,oBAE5C;AADoB,4BAAsB,QAAA,CAAA;AAC1C,GAVF,E,IAAA,E;;AAAA,I,4JAAA,CAWI,CArBN,CAqCI,EAfJ,YAAA,CAQE,uBARF,EAQE;AAPmB,IAAA,QAAQ,EAAE,KAAA,CAAA,QAO7B;AANmB,IAAA,QAAQ,EAAE,KAAA,CAAA,QAM7B;AALmB,IAAA,OAAO,EAAE,KAAA,CAAA,OAK5B;AAJmB,IAAA,UAAU,EAAE,KAAA,CAAA,UAI/B;AAHmB,wBAAkB,QAAA,CAAA,cAGrC;AAFmB,uBAAiB,QAAA,CAAA,aAEpC;AADmB,qBAAe,QAAA,CAAA;AAClC,GARF,E,IAAA,E;;AAAA,I,yGAAA,CAeI,EALM,KAAA,CAAA,S,kBADV,YAAA,CAKE,gBALF,EAKE;UAAA;AAHS,mBAAa,QAAA,CAAA,UAGtB;AAFS,oBAAc,KAAA,CAAA,SAEvB;AADS,IAAA,IAAI,EAAE,QAAA,CAAA;AACf,GALF,E,IAAA,E;;AAAA,I,uCAAA,C,qCAMI,CAtCN,C","sourcesContent":["<template>\n  <div class=\"w-10/12 m-auto my-20\">\n    <div class=\"flex justify-between flex-row flex-wrap\">\n      <StudentsTable class=\"w-5/12\"\n                     v-bind:on-input-change=\"onInputChange\"\n                     v-bind:delete-student=\"deleteStudent\"\n                     v-bind:students=\"students\"\n                     v-bind:on-submit=\"onSubmit\"\n                     v-bind:studentName=\"studentName\"\n                     v-bind:toggle-modal=\"openModal\"\n                     v-bind:on-search=\"onSearch\"\n      />\n      <StationsTable class=\"w-5/12\"\n                     v-bind:on-input-change=\"onInputChange\"\n                     v-bind:delete-station=\"deleteStation\"\n                     v-bind:stations=\"stations\"\n                     v-bind:on-submit=\"onSubmit\"\n                     v-bind:stationName=\"stationName\"\n                     v-bind:toggle-modal=\"openModal\"\n                     v-bind:on-search=\"onSearch\"\n                     v-bind:selected-station-value=\"selectedStationValue\"\n                     v-bind:select-station-value=\"selectStationValue\"\n      />\n    </div>\n    <ResultsTable\n                  v-bind:stations=\"stations\"\n                  v-bind:students=\"students\"\n                  v-bind:results=\"results\"\n                  v-bind:resultName=\"resultName\"\n                  v-bind:on-result-submit=\"onResultSubmit\"\n                  v-bind:on-input-change=\"onInputChange\"\n                  v-bind:delete-result=\"deleteResult\"\n    />\n    <Modal\n        v-if=\"showModal\"\n        v-bind:close-modal=\"closeModal\"\n        v-bind:modal-object=\"modalData\"\n        v-bind:save=\"patchValue\"\n    />\n  </div>\n</template>\n\n<script>\n\nimport StationsTable from \"@/components/StationsTable\"\nimport StudentsTable from \"@/components/StudentsTable\";\nimport ResultsTable from \"@/components/ResultsTable\";\nimport Modal from \"@/components/Modal\";\n\nconst axios = require(\"axios\");\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      stations: [],\n      allStations: [],\n      stationName: '',\n      selectedStationValue: '',\n      students: [],\n      allStudents: [],\n      studentName: '',\n      results: [],\n      resultName: '',\n      showModal: false,\n      modalData: {\n        data: '',\n        label: '',\n        placeholder: '',\n        endpoint: '',\n        type: '',\n      },\n    }\n  },\n  mounted() {\n    axios.get(\"http://localhost:3000/users\")\n        .then((students) => {\n          this.students = students.data.users;\n          this.allStudents = this.students;\n        })\n        .catch((e) => console.log(e));\n    axios.get(\"http://localhost:3000/stations\")\n        .then((stations) => {\n          this.stations = stations.data.stations;\n          this.allStations = this.stations;\n        })\n        .catch((e) => console.log(e));\n    axios.get(\"http://localhost:3000/scores\")\n        .then((results) => {\n          this.results = results.data.scores;\n          console.log(results.data);\n        })\n        .catch((e) => console.log(e));\n  },\n  methods: {\n    onInputChange(e, value) {\n      this[value] = e.target.value;\n    },\n    onSubmit(endpoint, name, type) {\n      if (endpoint === \"stations\" && this[name].length) {\n        axios.post(`http://localhost:3000/${endpoint}`, {\n          name: this[name],\n          value: this.selectedStationValue,\n        })\n            .then(() => {\n              this[name] = '';\n              axios.get(`http://localhost:3000/${ endpoint }`)\n                  .then((data) => this[type] = data.data[endpoint]);\n            })\n      }\n      else if (this[name].length) {\n        axios.post(`http://localhost:3000/${endpoint}`, {\n          name: this[name],\n        })\n            .then(() => {\n              this[name] = '';\n              axios.get(`http://localhost:3000/${ endpoint }`)\n                  .then((data) => this[type] = data.data[endpoint]);\n            })\n      }\n    },\n    selectStationValue(e) {\n      this.selectedStationValue = e.target.value;\n    },\n    onResultSubmit(result) {\n      axios.post(`http://localhost:3000/scores`, {\n        user_id: result.student,\n        station_id: result.station,\n        score: result.result,\n      }).then(() => {\n        axios.get(\"http://localhost:3000/scores\")\n            .then((results) => {\n              this.results = results.data.scores;\n            })\n            .catch((e) => console.log(e));\n      })\n    },\n    deleteResult(id) {\n      axios.delete(`http://localhost:3000/scores/${id}`)\n          .then((results) => {\n            this.results = results.data.scores;\n            console.log(this.results);\n          })\n          .catch((e) => console.log(e));\n    },\n    deleteStation(id) {\n      axios.delete(`http://localhost:3000/stations/${id}`)\n          .then((data) => this.stations = data.data.stations);\n    },\n    deleteStudent(id) {\n      axios.delete(`http://localhost:3000/users/${id}`)\n          .then((data) => this.students = data.data.users);\n    },\n    openModal(data, label, placeholder, endpoint, type) {\n      this.modalData = {\n        data,\n        label,\n        placeholder,\n        endpoint,\n        type\n      }\n      this.showModal = true;\n    },\n    closeModal() {\n      this.showModal = false;\n    },\n    patchValue(id, newValue, endpoint, type, selectedStationValue) {\n      if (newValue.length && endpoint === \"stations\") {\n        axios.patch(`http://localhost:3000/${endpoint}/${id}`, {\n          name: newValue,\n          value: selectedStationValue\n        }).then((data) => this[type] = data.data[endpoint])\n      }\n      else if (newValue.length) {\n        axios.patch(`http://localhost:3000/${endpoint}/${id}`, {\n          name: newValue,\n        }).then((data) => this[type] = data.data[endpoint])\n      }\n      this.closeModal();\n    },\n    onSearch(type, allType, e) {\n      this[type] = this[allType].filter((data) => data.name.toUpperCase().includes(e.target.value.toUpperCase()));\n    }\n  },\n  components: {\n    StationsTable,\n    StudentsTable,\n    ResultsTable,\n    Modal\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: \"Montserrat\";\n}\n</style>\n"],"sourceRoot":""}]}